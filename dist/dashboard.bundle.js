!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";let o;function a(e){o=e}n.r(t),n.d(t,"getTimezone",(function(){return a})),n.d(t,"updateDate",(function(){return r})),n.d(t,"updateClock",(function(){return i}));const r=(e,t=0)=>{const n=new Date,o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],i=["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"];let c;"en"!==localStorage.getItem("currentLang")&&"en"!==e||(c=[a[n.getDay()+t],n.getDate()+t,o[n.getMonth()]].join(" ")),"pl"===localStorage.getItem("currentLang")&&(c=[r[n.getDay()+t],n.getDate()+t,i[n.getMonth()]].join(" ")),day.innerHTML=`${c} ${(new Date).getFullYear().toString()}`};function i(){let e=(new Date).toUTCString().substr(17,8).split(":").map(e=>parseInt(e,0));"number"==typeof o&&(e[0]+=o/60/60),e[0]>=24&&(e[0]-=24,console.log("zmiana daty"),r(localStorage.getItem("currentLang"),1)),e=e.map(e=>2===e.toString().length?e:"0"+e),clock.innerHTML=`${e[0]}:${e[1]}:${e[2]}`,setTimeout(i,1e3)}r("en"),i()},function(e,t,n){"use strict";n.r(t),n.d(t,"drawMap",(function(){return o}));const o=(e,t)=>{mapboxgl.accessToken="pk.eyJ1IjoiZ25vb3NueSIsImEiOiJja2F6cDJxOW8wMDl0MzVudmV0ZGF2eHE3In0.flaXdNtHW6qEA24YLZyTZA";new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[t,e],zoom:11})}},function(e,t,n){"use strict";n.r(t),n.d(t,"changeLanguage",(function(){return y})),n.d(t,"changeUnit",(function(){return f})),n.d(t,"searchWeather",(function(){return M}));var o=n(1),a=n(0);const r="18c5202b88ce01926c8701685e567bb4",i="https://api.openweathermap.org/data/2.5/weather?";let c,d,s=[];const l=["Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],u=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],m=[];let g="en";null===localStorage.getItem("currentLang")&&localStorage.setItem("currentLang",g),localStorage.getItem("currentLang")!==g&&(g=localStorage.getItem("currentLang"));let p="C";null===localStorage.getItem("tempU")&&localStorage.setItem("tempU",p),localStorage.getItem("tempU")!==p&&(p=localStorage.getItem("currentLang"));const h=(e,t)=>{fetch(`https://api.opencagedata.com/geocode/v1/json?q=${e}+${t}&key=911b3467360e4a0b8d5b7c3677f805e7&language=${localStorage.getItem("currentLang")}`).then(e=>e.json()).then(e=>{void 0===e.results[0].components.city&&(place.textContent=e.results[0].components.town),void 0===e.results[0].components.town&&(place.textContent=e.results[0].components.county),void 0!==e.results[0].components.city&&(place.textContent=e.results[0].components.city)}).catch(e=>console.log("there was an issue withe reserve geocoding",e))},y=e=>{const t=forecastDetails.innerHTML.split("<br>");"en"===e?(localStorage.setItem("currentLang",e),t[0]=d,t[1]=t[1].replace("Odczuwalna:","Feels like:"),t[2]=t[2].replace("Wiatr","Wind"),t[3]=t[3].replace("Wilgotność","Humidity"),u.includes(document.getElementById("day-one-name").textContent)||(document.getElementById("day-one-name").textContent=u[l.indexOf(document.getElementById("day-one-name").textContent)],document.getElementById("day-two-name").textContent=u[l.indexOf(document.getElementById("day-two-name").textContent)],document.getElementById("day-three-name").textContent=u[l.indexOf(document.getElementById("day-three-name").textContent)]),h(s[0],s[1])):"pl"===e&&(localStorage.setItem("currentLang",e),t[0]=c,t[1]=t[1].replace("Feels like:","Odczuwalna:"),t[2]=t[2].replace("Wind","Wiatr"),t[3]=t[3].replace("Humidity","Wilgotność"),u.includes(document.getElementById("day-one-name").textContent)&&(document.getElementById("day-one-name").textContent=l[u.indexOf(document.getElementById("day-one-name").textContent)],document.getElementById("day-two-name").textContent=l[u.indexOf(document.getElementById("day-two-name").textContent)],document.getElementById("day-three-name").textContent=l[u.indexOf(document.getElementById("day-three-name").textContent)]),h(s[0],s[1])),forecastDetails.innerHTML=t.join("<br>")},f=()=>{const e=forecastDetails.innerHTML.split("<br>"),t=[document.getElementById("day-one-temp"),document.getElementById("day-two-temp"),document.getElementById("day-three-temp")];"C"===p?(forecastDegrees.textContent=Math.round(1.8*(m[0]-273.15)+32)+"°F",e[1]="Feels like: "+(Math.round(1.8*(m[1]-273.15)+32)+"°F"),t[0].innerText=Math.round(1.8*(m[2]-273.15)+32)+"°F",t[1].innerText=Math.round(1.8*(m[3]-273.15)+32)+"°F",t[2].innerText=Math.round(1.8*(m[4]-273.15)+32)+"°F",p="F",localStorage.setItem("tempU",p)):(forecastDegrees.textContent=Math.round(m[0]-273.15)+"°C",e[1]="Feels like: "+(Math.round(m[1]-273.15)+"°C"),t[0].innerText=Math.round(m[2]-273.15)+"°C",t[1].innerText=Math.round(m[3]-273.15)+"°C",t[2].innerText=Math.round(m[4]-273.15)+"°C",p="C",localStorage.setItem("tempU",p)),forecastDetails.innerHTML=e.join("<br>")},b=(e,t,n)=>{let o="";"en"===n&&(o="pl"),"pl"===n&&(o="en"),fetch(`${i}lat=${e}&lon=${t}&apiKey=${r}&lang=${o}`).then(e=>e.json()).then(e=>{"en"===o&&(d=e.weather[0].description),"pl"===o&&(c=e.weather[0].description)}),fetch(`${i}lat=${e}&lon=${t}&apiKey=${r}&lang=${n}`).then(e=>e.json()).then(e=>{const{timezone:t}=e;Object(a.getTimezone)(t),"en"===n&&(d=e.weather[0].description),"pl"===n&&(c=e.weather[0].description);let o=Math.round(e.main.feels_like-273.15),r=Math.round(e.main.temp-273.15);m[0]=e.main.temp,m[1]=e.main.feels_like,"C"!==p?(r=Math.round(1.8*r+32)+"°F",o=o+1.8+32+"°F"):(r+="°C",o+="°C"),forecastDegrees.textContent=r,"en"===g&&(forecastDetails.innerHTML=`${e.weather[0].description}<br/>Feels like: ${o}<br/>Wind: ${e.wind.speed} m/s<br/>Humidity: ${e.main.humidity} %`),"pl"===g&&(forecastDetails.innerHTML=`${e.weather[0].description}<br/>Odczuwalna: ${o}<br/>Wiatr: ${e.wind.speed} m/s<br/>Wilgotność: ${e.main.humidity} %`),forecastIcon.innerHTML=`<img src='https://openweathermap.org/img/wn/${e.weather[0].icon}@4x.png' alt=${e.weather[0].description}/>`;(window.innerWidth||document.documentElement.clientWidth)<400&&(forecastIcon.innerHTML=`<img src='https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png' alt=${e.weather[0].description}/>`)}).then(setTimeout(h(e,t),10)).catch(e=>console.log("error ",e))},w=(e,t)=>{fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${t}&apiKey=${r}`).then(e=>e.json()).then(e=>{let t=[Math.round(e.daily[1].temp.day-273.15),Math.round(e.daily[2].temp.day-273.15),Math.round(e.daily[3].temp.day-273.15)];m[2]=e.daily[1].temp.day,m[3]=e.daily[2].temp.day,m[4]=e.daily[3].temp.day,t="C"!==p?t.map(e=>Math.round(1.8*e+32)+"°F"):t.map(e=>e+"°C");const n=new Date,o=[];"pl"===localStorage.getItem("currentLang")&&(7===n.getDay()||6===n.getDay()?(o.push(l[n.getDay()]),o.push(l[0]),o.push(l[1])):(o.push(l[n.getDay()]),o.push(l[n.getDay()+1]),o.push(l[n.getDay()+2]))),"en"===localStorage.getItem("currentLang")&&(7===n.getDay()||6===n.getDay()?(o.push(u[n.getDay()]),o.push(u[0]),o.push(u[1])):(o.push(u[n.getDay()]),o.push(u[n.getDay()+1]),o.push(u[n.getDay()+2]))),weatherFuture.innerHTML=`<div class='day-one'>\n\t\t\t\t<div id='day-one-name'>${o[0]}</div> \n\t\t\t\t<div>\n\t\t\t\t\t<img src='http://openweathermap.org/img/wn/${e.daily[1].weather[0].icon}.png' alt=${e.daily[1].weather[0].description}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div id='day-one-temp'>\n\t\t\t\t\t${t[0]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class='day-two'>\n\t\t\t\t<div id='day-two-name'>${o[1]}</div> \n\t\t\t\t<div>\n\t\t\t\t\t<img src='http://openweathermap.org/img/wn/${e.daily[2].weather[0].icon}.png' alt=${e.daily[2].weather[0].description}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div id='day-two-temp'>\n\t\t\t\t\t${t[1]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class='day-three'>\n\t\t\t\t<div id='day-three-name'>${o[2]}</div> \n\t\t\t\t<div>\n\t\t\t\t\t<img src='http://openweathermap.org/img/wn/${e.daily[2].weather[0].icon}.png' alt=${e.daily[2].weather[0].description}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div id='day-three-temp'>\n\t\t\t\t\t${t[2]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`}).catch(e=>console.log("Error: ",e))};function v(e){const{latitude:t}=e.coords,{longitude:n}=e.coords;s=[t,n],coord.innerHTML=`Latitude: ${t.toFixed(2).split(".").join("°")}'<br/>Longitude: ${n.toFixed(2).split(".").join("°")}'`,b(t,n,g),w(t,n),Object(o.drawMap)(t,n)}function L(){console.log("Geocoder failed.")}navigator.geolocation?navigator.geolocation.getCurrentPosition(v,L):alert("Geolocation is not supported by this browser.");const M=e=>{fetch(`${i}q=${e}&appid=${r}`).then(e=>e.json()).then(e=>{"404"!==e.cod&&(s=[e.coord.lat,e.coord.lon],coord.innerHTML=`Latitude: ${e.coord.lat.toFixed(2).split(".").join("°")}'<br/>Longitude: ${e.coord.lon.toFixed(2).split(".").join("°")}'`,b(e.coord.lat,e.coord.lon),w(e.coord.lat,e.coord.lon),Object(o.drawMap)(e.coord.lat,e.coord.lon),Object(a.updateDate)(localStorage.getItem("currentLang"),0))}).catch(e=>console.log("Error",e))}},,function(e,t,n){"use strict";n.r(t);var o=n(2),a=n(0);refresh.innerHTML="<button><div id='refresh'><i class=\"fas fa-sync\"></i></div></button>",language.innerHTML="<button id='en-lang'>EN</button>",language2.innerHTML="<button id='pl-lang'>PL</button>",degreeUnit.innerHTML="<button id='change-unit'>C/F</button>",searchForm.innerHTML="<input type=\"search\" id='search'><input type='submit' value='Search' id='searchBtn'>";const r=document.getElementById("searchBtn"),i=document.getElementById("search"),c=e=>{fetch("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=bcffbae651feec2b6a7575e7eb3136d5&tags=nature,spring,morning&tag_mode=all&extras=url_h&format=json&nojsoncallback=1").then(e=>e.json()).then(t=>{console.log(t);const n=Math.floor(100*Math.random());!0!==e&&void 0!==t.photos.photo[n].url_h&&(document.body.style.backgroundImage=`url(${t.photos.photo[n].url_h})`),null===t.photos.photo[n].url_h&&c(!0),e&&(document.body.style.backgroundImage=`url("${t.photos.photo[n].url_h}")`)})};c();const d=e=>{document.getElementById(e).classList.add("shake"),setTimeout(()=>document.getElementById(e).classList.remove("shake"),500)};r.addEventListener("click",e=>{e.preventDefault(),Object(o.searchWeather)(document.getElementById("search").value)}),refresh.addEventListener("click",()=>{c(!0),document.getElementById("refresh").className="spin",setTimeout(()=>document.getElementById("refresh").classList.remove("spin"),2020)}),degreeUnit.addEventListener("click",()=>{Object(o.changeUnit)(),d("change-unit")}),language.addEventListener("click",()=>{d("en-lang"),Object(o.changeLanguage)("en"),Object(a.updateDate)("en")}),language2.addEventListener("click",()=>{d("pl-lang"),Object(o.changeLanguage)("pl"),Object(a.updateDate)("pl")});const s=window.SpeechRecognition||window.webkitSpeechRecognition;if(s){console.log("Your Browser supports speech Recognition");const e=new s;e.lang="pl-PL",searchForm.insertAdjacentHTML("beforeend",'<button type="button" id=\'mic\'><i class="fas fa-microphone"></i></button>');const t=searchForm.querySelector("button"),n=t.firstElementChild;t.addEventListener("click",(function(){n.classList.contains("fa-microphone")?e.start():e.stop()})),e.addEventListener("start",(function(){n.classList.remove("fa-microphone"),n.classList.add("fa-microphone-slash"),i.focus(),console.log("Voice activated, SPEAK")})),e.addEventListener("end",(function(){n.classList.remove("fa-microphone-slash"),n.classList.add("fa-microphone"),i.focus(),console.log("Speech recognition service disconnected")})),e.addEventListener("result",(function(t){const n=t.resultIndex,{transcript:a}=t.results[n][0];"stop recording"===a.toLowerCase().trim()?e.stop():i.value?"go"===a.toLowerCase().trim()?searchForm.submit():"reset input"===a.toLowerCase().trim()?i.value="":(i.value=a,Object(o.searchWeather)(i.value)):(i.value=a,Object(o.searchWeather)(i.value))}))}else console.log("Your Browser does not support speech Recognition")}]);